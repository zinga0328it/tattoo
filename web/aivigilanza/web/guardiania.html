<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="canonical" href="https://servicess.net/guardiania.html">
  <title>Guardiania - Operatore di Sicurezza</title>
  <style>
    body {
      font-family: 'Georgia', 'Segoe UI', serif;
      margin: 0;
      background: linear-gradient(135deg, #181204 0%, #bfa14a 80%, #fffbe6 100%);
      color: #fffbe6;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .lock-menu-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 40px;
      margin-bottom: 30px;
      user-select: none;
    }
    .lock-menu-row {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      width: 100%;
      gap: 18px;
    }
    .lock-menu {
      width: 340px;
      height: 220px;
      background: rgba(34,34,34,0.8);
      border-radius: 30px;
      box-shadow: 0 0 30px #bfa14a99;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      text-align: center;
    }
    .lock-menu .menu-item {
      width: 260px;
      height: 54px;
      line-height: 54px;
      font-size: 1.45em;
      color: #bfa14a;
      opacity: 0.5;
      transition: all 0.2s;
      background: none;
      border-radius: 20px;
      font-weight: bold;
      position: relative;
      z-index: 1;
      pointer-events: none;
      text-align: center;
    }
    .lock-menu .menu-item.selected {
      background: #bfa14a;
      color: #181204;
      font-size: 1.5em;
      opacity: 1;
      box-shadow: 0 2px 12px #bfa14a99;
      pointer-events: auto;
      cursor: pointer;
    }
    .lock-menu .menu-item.above, .lock-menu .menu-item.below {
      opacity: 0.8;
      font-size: 1em;
      color: #fffbe6;
    }
    .lock-menu .menu-item.far {
      opacity: 0.3;
      font-size: 0.9em;
      color: #aaa;
    }
    #leftBtn, #rightBtn {
      background: #bfa14a;
      color: #181204;
      border: none;
      border-radius: 50%;
      width: 64px;
      height: 64px;
      font-size: 2.3em;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 10px #bfa14a88;
      transition: background 0.2s, color 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #leftBtn:hover, #rightBtn:hover {
      background: #229ED9;
      color: #fff;
    }
    .guardiania-box {
      background: rgba(34,34,34,0.92);
      border-radius: 24px;
      box-shadow: 0 0 32px #bfa14a99;
      padding: 48px 36px;
      max-width: 540px;
      text-align: center;
      margin: 0 auto 40px auto;
    }
    h1 {
      color: #bfa14a;
      font-size: 2.3em;
      margin-bottom: 24px;
      letter-spacing: 1px;
      font-family: 'Georgia', serif;
    }
    p {
      color: #fffbe6;
      font-size: 1.18em;
      line-height: 1.6;
    }
    label {
      color: #bfa14a;
      font-weight: bold;
      font-size: 1.08em;
    }
    input, textarea {
      background: #181204;
      color: #fffbe6;
      border: 1px solid #bfa14a;
      border-radius: 8px;
      padding: 10px;
      font-size: 1.1em;
      margin-bottom: 18px;
      width: 80%;
      box-shadow: 0 2px 8px #bfa14a22 inset;
      transition: box-shadow 0.2s;
    }
    input:focus, textarea:focus {
      outline: none;
      box-shadow: 0 0 0 2px #bfa14a;
    }
    button[type="submit"] {
      background: #bfa14a;
      color: #181204;
      font-weight: bold;
      padding: 12px 32px;
      border: none;
      border-radius: 18px;
      font-size: 1.2em;
      box-shadow: 0 2px 10px #bfa14a88;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    button[type="submit"]:hover {
      background: #229ED9;
      color: #fff;
    }
    #preventivoResult {
      color: #fffbe6;
      background: #181204;
      border: 1px solid #bfa14a;
      border-radius: 12px;
      padding: 18px 12px;
      font-size: 1.1em;
      margin-top: 18px;
      box-shadow: 0 2px 8px #bfa14a33;
    }
    #ibanBox {
      color: #bfa14a;
      font-size: 1.1em;
      font-weight: bold;
      margin-top: 18px;
    }
    @media (max-width: 700px) {
      .lock-menu {
        width: 98vw;
        height: 120px;
      }
      .lock-menu .menu-item {
        width: 98vw;
        height: 36px;
        font-size: 1.1em;
      }
      #leftBtn, #rightBtn {
        width: 44px;
        height: 44px;
        font-size: 1.5em;
      }
      .guardiania-box {
        padding: 18px 4vw;
      }
    .flag-btn.active {
      border: 2px solid #bfa14a;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <!-- Barra bandierine per selezione lingua, visibile anche senza JS -->
  <div class="flag-bar" style="display:flex;gap:8px;justify-content:flex-end;padding:10px 18px 0 0;">
    <button class="flag-btn" data-lang="it" title="Italiano" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡®ðŸ‡¹</button>
    <button class="flag-btn" data-lang="en" title="English" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡¬ðŸ‡§</button>
    <button class="flag-btn" data-lang="fr" title="FranÃ§ais" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡«ðŸ‡·</button>
    <button class="flag-btn" data-lang="de" title="Deutsch" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡©ðŸ‡ª</button>
    <button class="flag-btn" data-lang="es" title="EspaÃ±ol" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡ªðŸ‡¸</button>
    <button class="flag-btn" data-lang="ar" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡¸ðŸ‡¦</button>
    <button class="flag-btn" data-lang="ru" title="Ð ÑƒÑÑÐºÐ¸Ð¹" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡·ðŸ‡º</button>
    <button class="flag-btn" data-lang="zh" title="ä¸­æ–‡" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡¨ðŸ‡³</button>
    <button class="flag-btn" data-lang="ja" title="æ—¥æœ¬èªž" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡¯ðŸ‡µ</button>
    <button class="flag-btn" data-lang="hi" title="à¤¹à¤¿à¤¨à¥à¤¦à¥€" style="font-size:1.7em;background:none;border:none;cursor:pointer;">ðŸ‡®ðŸ‡³</button>
  </div>
  <div class="lock-menu-container">
    <div class="lock-menu-row">
      <button id="leftBtn" aria-label="Precedente">&#9664;</button>
      <div class="lock-menu" id="lockMenu">
        <!-- Menu items will be injected here by JS -->
      </div>
      <button id="rightBtn" aria-label="Successivo">&#9654;</button>
    </div>
  </div>
  <div class="guardiania-box">
    <h1 id="guardiania-title">Guardiania e Vigilanza Disarmata</h1>
    <p id="guardiania-desc">Lâ€™operatore di guardiania e vigilanza disarmata Ã¨ responsabile del monitoraggio attivo delle aree critiche, garantendo la sicurezza di ospedali, discoteche, magazzini e centri commerciali. Con unâ€™attenzione costante agli accessi e alle attivitÃ  sospette, questo professionista utilizza tecnologie avanzate per collaborare con i sistemi di sorveglianza. Ãˆ sempre pronto a intervenire in caso di situazioni critiche, offrendo supporto e assistenza al personale e ai visitatori.</p>
    <form id="preventivoForm" style="margin-top:32px;">
      <label id="guardiania-form-title" for="numPersone" style="display:block;margin-bottom:8px;font-weight:bold;">Numero di operatori richiesti:</label>
      <input type="number" id="numPersone" name="numPersone" min="1" required style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;">
      <label id="guardiania-form-place" for="luogo" style="display:block;margin-bottom:8px;font-weight:bold;">Luogo/Area di servizio:</label>
      <input type="text" id="luogo" name="luogo" required style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;">
      <label id="guardiania-form-calendar" for="calendario" style="display:block;margin-bottom:8px;font-weight:bold;">Calendario turni (date e orari):</label>
      <textarea id="calendario" name="calendario" rows="3" required style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;"></textarea>
      <label id="guardiania-form-days" for="numGiorni" style="display:block;margin-bottom:8px;font-weight:bold;">Numero di giorni:</label>
      <input type="number" id="numGiorni" name="numGiorni" min="1" required style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;" placeholder="Es: 1, 7, 30...">
      <label id="guardiania-form-hours" for="oreTotali" style="display:block;margin-bottom:8px;font-weight:bold;">Ore per giorno per operatore:</label>
      <input type="number" id="oreTotali" name="oreTotali" min="1" required style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;" placeholder="Es: 8, 12, 24...">
      <label id="guardiania-form-phone" for="telefono" style="display:block;margin-bottom:8px;font-weight:bold;">Recapito telefonico (WhatsApp o cellulare):</label>
      <input type="tel" id="telefono" name="telefono" required pattern="[0-9+ ]{7,}" style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;">
      <label id="guardiania-form-notes" for="contatti" style="display:block;margin-bottom:8px;font-weight:bold;">Contatti alternativi o note (email, Telegram, preferenze, ecc):</label>
      <textarea id="contatti" name="contatti" rows="2" id="guardiania-form-notes-input" placeholder="Scrivi qui qualsiasi informazione utile per ricontattarti o richieste particolari..." style="width:80%;padding:10px;margin-bottom:18px;border-radius:8px;border:none;font-size:1.1em;"></textarea>
      <button type="submit" id="guardiania-form-btn" style="background:#bfa14a;color:#222;font-weight:bold;padding:12px 32px;border:none;border-radius:18px;font-size:1.2em;box-shadow:0 2px 10px #bfa14a88;cursor:pointer;">Genera Preventivo PDF</button>
    </form>
  <div id="preventivoResult" style="margin-top:28px;display:none;"></div>
  <div id="ibanBox" style="display:none;">
    <p style="color:#bfa14a;font-weight:bold;margin-top:20px;">ðŸ’³ Pagamento tramite bonifico bancario:</p>
    <p style="color:#fffbe6;font-size:1.1em;font-family:monospace;background:#181204;padding:12px;border-radius:8px;border:1px solid #bfa14a;">
      <strong>Beneficiario:</strong> Alessandro Pepe<br>
      <strong>IBAN:</strong> IT81 A036 6901 6005 9025 2668 266<br>
      <strong>BIC/SWIFT:</strong> REVOITM2<br>
      <strong>Banca:</strong> Revolut Bank UAB<br>
      <strong>Causale:</strong> Servizio Guardiania
    </p>
  </div>
  </div>
  <script src="traduzione/guardiania.js"></script>
  <script>
    // Menu stile "lucchetto a combinazione"
    const menuItems = [
      { label: 'Home', href: 'index.html' },
      { label: 'Guardiania', href: 'guardiania.html' },
      { label: 'Legale', href: 'legale.html' },
      { label: 'Domotica', href: 'domotica.html' },
      { label: 'Criptotelefonia', href: 'https://vpn-gypsy.com/' },
      { label: '7070', href: 'antivirus.html' },
      { label: 'Bonifiche', href: 'bonifiche.html' },
      { label: 'SafeNodeâ„¢', href: 'SafeNode.html' },
      { label: 'Pulizie Straordinarie', href: 'straordinarie.html' },
      { label: 'Telecamere', href: 'articoli/telecamere.html' },
      { label: 'Contatti', href: 'contatti.html' },
      { label: 'Chi siamo', href: 'chisiamo.html' }
    ];
    let selectedIdx = 1;
    const lockMenu = document.getElementById('lockMenu');
    function renderMenu() {
      lockMenu.innerHTML = '';
      for (let i = -2; i <= 2; i++) {
        let idx = (selectedIdx + i + menuItems.length) % menuItems.length;
        let item = document.createElement('a');
        item.className = 'menu-item';
        if (i === 0) item.classList.add('selected');
        else if (Math.abs(i) === 1) item.classList.add(i < 0 ? 'above' : 'below');
        else item.classList.add('far');
        item.href = menuItems[idx].href;
        item.textContent = menuItems[idx].label;
        if (i === 0) item.tabIndex = 0;
        lockMenu.appendChild(item);
      }
    }
    function moveUp() {
      selectedIdx = (selectedIdx - 1 + menuItems.length) % menuItems.length;
      renderMenu();
    }
    function moveDown() {
      selectedIdx = (selectedIdx + 1) % menuItems.length;
      renderMenu();
    }
    document.getElementById('leftBtn').onclick = moveUp;
    document.getElementById('rightBtn').onclick = moveDown;
    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowLeft') { moveUp(); e.preventDefault(); }
      if (e.key === 'ArrowRight') { moveDown(); e.preventDefault(); }
    });
    let touchStartX = null;
    lockMenu.addEventListener('touchstart', e => {
      touchStartX = e.touches[0].clientX;
    });
    lockMenu.addEventListener('touchend', e => {
      if (touchStartX === null) return;
      let deltaX = e.changedTouches[0].clientX - touchStartX;
      if (deltaX < -30) moveDown();
      if (deltaX > 30) moveUp();
      touchStartX = null;
    });
    renderMenu();
    // Funzione per cambiare lingua e aggiornare i testi
    function setGuardianiaLanguage(lang) {
      localStorage.setItem('lang', lang);
      const t = window.translations && window.translations[lang] ? window.translations[lang] : window.translations['it'];
      // Titolo e descrizione
      document.getElementById('guardiania-title').textContent = {
        it: "Guardiania e Vigilanza Disarmata",
        en: "Unarmed Security and Surveillance",
        fr: "Surveillance et Gardiennage non armÃ©",
        de: "Unbewaffneter Wachdienst",
        es: "GuardianÃ­a y Vigilancia sin armas",
        ar: "Ø§Ù„Ø­Ø±Ø§Ø³Ø© ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¨Ø¯ÙˆÙ† Ø³Ù„Ø§Ø­",
        ru: "ÐžÑ…Ñ€Ð°Ð½Ð° Ð¸ Ð½ÐµÐ²Ð¾Ð¾Ñ€ÑƒÐ¶Ñ‘Ð½Ð½Ð¾Ðµ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ",
        zh: "æ— æ­¦è£…å®ˆå«ä¸Žç›‘æŽ§",
        ja: "ç„¡æ­¦è£…ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³ãƒ»è­¦å‚™",
        hi: "à¤…à¤¸à¤¶à¤¸à¥à¤¤à¥à¤° à¤—à¤¾à¤°à¥à¤¡à¤¿à¤¯à¤¨à¤¿à¤¯à¤¾ à¤”à¤° à¤¨à¤¿à¤—à¤°à¤¾à¤¨à¥€"
      }[lang] || "Guardiania e Vigilanza Disarmata";
      // Traduzioni form
      document.getElementById('guardiania-form-title').textContent = {
        it: "Numero di operatori richiesti:",
        en: "Number of operators required:",
        fr: "Nombre d'opÃ©rateurs requis :",
        de: "Anzahl der erforderlichen Operatoren:",
        es: "NÃºmero de operadores requeridos:",
        ar: "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´ØºÙ„ÙŠÙ† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ÙŠÙ†:",
        ru: "ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÐ¼Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð²:",
        zh: "æ‰€éœ€æ“ä½œå‘˜æ•°é‡ï¼š",
        ja: "å¿…è¦ãªã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®æ•°ï¼š",
        hi: "à¤†à¤µà¤¶à¥à¤¯à¤• à¤‘à¤ªà¤°à¥‡à¤Ÿà¤°à¥‹à¤‚ à¤•à¥€ à¤¸à¤‚à¤–à¥à¤¯à¤¾:"
      }[lang] || "Numero di operatori richiesti:";
      document.getElementById('guardiania-form-place').textContent = {
        it: "Luogo/Area di servizio:",
        en: "Location/Service area:",
        fr: "Lieu/Zone de servizio :",
        de: "Ort/Dienstbereich:",
        es: "UbicaciÃ³n/Ãrea de servizio:",
        ar: "Ø§Ù„Ù…ÙˆÙ‚Ø¹/Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø¯Ù…Ø©:",
        ru: "ÐœÐµÑÑ‚Ð¾/Ð—Ð¾Ð½Ð° Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ:",
        zh: "åœ°ç‚¹/æœåŠ¡åŒºåŸŸï¼š",
        ja: "å ´æ‰€/ã‚µãƒ¼ãƒ“ã‚¹ã‚¨ãƒªã‚¢ï¼š",
        hi: "à¤¸à¥à¤¥à¤¾à¤¨/à¤¸à¥‡à¤µà¤¾ à¤•à¥à¤·à¥‡à¤¤à¥à¤°:"
      }[lang] || "Luogo/Area di servizio:";
      document.getElementById('guardiania-form-btn').textContent = {
        it: "Genera Preventivo PDF",
        en: "Generate Quote PDF",
        fr: "GÃ©nÃ©rer Devis PDF",
        de: "Angebot PDF generieren",
        es: "Generar Presupuesto PDF",
        ar: "Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ Ø£Ø³Ø¹Ø§Ø± PDF",
        ru: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ¼ÐµÑ‚Ñƒ PDF",
        zh: "ç”ŸæˆæŠ¥ä»·PDF",
        ja: "è¦‹ç©ã‚‚ã‚ŠPDFã‚’ç”Ÿæˆ",
        hi: "à¤•à¥‹à¤Ÿ PDF à¤œà¤¨à¤°à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚"
      }[lang] || "Genera Preventivo PDF";
    }
    // Funzione per cambiare lingua
    function cambiaLingua(lang) {
      console.log('Cambiando lingua a: ' + lang);
      // Rimuovi classe active da tutte le flag
      document.querySelectorAll('.flag-btn').forEach(f => f.classList.remove('active'));
      // Aggiungi classe active alla flag selezionata
      document.querySelector(`.flag-btn[data-lang="${lang}"]`).classList.add('active');
      // Salva la lingua nel localStorage
      localStorage.setItem('lang', lang);
      // Applica traduzioni
      if (typeof setGuardianiaLanguage === 'function') {
        setGuardianiaLanguage(lang);
      } else {
        console.log('Funzione setGuardianiaLanguage non trovata');
      }
    }
    // Inizializza lingua
    const initialLang = localStorage.getItem('lang') || 'it';
    cambiaLingua(initialLang);
    // Aggiungi event listener per le bandiere
    document.querySelectorAll('.flag-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        cambiaLingua(btn.getAttribute('data-lang'));
      });
    });
    // Form preventivo con generazione PDF
    document.getElementById("preventivoForm").onsubmit = async function(e) {
      e.preventDefault();
      const lang = localStorage.getItem("lang") || (navigator.language || "it").slice(0,2).toLowerCase();
      const t = window.translations && window.translations[lang] ? window.translations[lang] : window.translations["it"];
      const numPersone = document.getElementById("numPersone").value;
      const luogo = document.getElementById("luogo").value;
      const calendario = document.getElementById("calendario").value;
      const numGiorni = parseInt(document.getElementById("numGiorni").value) || 1;
      const orePerGiorno = parseInt(document.getElementById("oreTotali").value) || 8;
      const oreTotali = numGiorni * orePerGiorno;
      const prezzo = numPersone * oreTotali * 20;
      const dati = {
        nome_cliente: "",
        indirizzo_cliente: luogo,
        cf_cliente: "",
        durata_ore: orePerGiorno,
        durata_giorni: numGiorni,
        data_inizio: new Date().toLocaleDateString("it-IT"),
        numero_operatori: numPersone,
        ore_per_operatore: oreTotali,
        tariffa_oraria: 20,
        foro_competente: luogo,
        luogo_data: luogo + ", " + new Date().toLocaleDateString("it-IT"),
        firma_cliente: "",
        luogo: luogo,
        calendario: calendario
      };
      try {
        const response = await fetch("/genera-contratto", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(dati)
        });
        if (!response.ok) {
          const errorText = await response.text();
          console.error("Errore generazione contratto:", errorText);
          throw new Error("Errore generazione contratto: " + errorText);
        }
        const blob = await response.blob();
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `contratto_guardiania_${luogo.replace(/\s+/g,"")}.pdf`;
        document.body.appendChild(a);
        a.click();
        a.remove();
        window.URL.revokeObjectURL(url);
        
        const resultBox = document.getElementById("preventivoResult");
        const ibanBox = document.getElementById("ibanBox");
        
        if (resultBox) {
          resultBox.style.display = "block";
          resultBox.innerHTML =
            (t.guardianiaResultOk || "<strong>Contratto generato!</strong><br>Controlla i download per il file.<br>") +
            `${numPersone} ${(t.guardianiaResultPrice||"operatori x ore x 20â‚¬/ora = <span style='color:#bfa14a;font-size:1.3em;'>â‚¬</span>").replace("operatori","operatori").replace("ore","ore").replace("20â‚¬/ora","20â‚¬/ora").replace("â‚¬", prezzo)}`;
        }
        
        if (ibanBox) {
          ibanBox.style.display = "block";
        }
      } catch (err) {
        console.error("Errore fetch preventivo:", err);
        const resultBox = document.getElementById("preventivoResult");
        if (resultBox) {
          resultBox.style.display = "block";
          resultBox.innerHTML = (t.guardianiaResultErr || "Errore nella generazione del contratto. Riprova.") + "<br><pre style='color:red;'>" + err + "</pre>";
        }
      }
    };
  </script>
</body>
</html>
